{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='matches.css') }}">
{% endblock %}

{% block content %}
<section class="content-section">
  <h2>Match Visualizer & Search</h2>
  <p class="description">Search and filter matches. You can search by free text, filter by league/season/date/goals/xG and select home/away teams to return head-to-head matches.</p>	<div class="controls" style="display:flex;gap:1rem;flex-wrap:wrap;margin-top:1rem;">
		<div style="flex:1;min-width:260px;">
			<label for="q">Search (team name, match id...)</label>
			<input id="q" type="search" placeholder="Search matches..." style="width:100%;padding:0.6rem;border-radius:6px;border:1px solid #333;background:#0f1419;color:#e8e8e8;margin-top:0.5rem;" />
		</div>

		<div style="min-width:220px;">
			<label for="season">Season</label>
			<select id="season" style="width:100%;padding:0.5rem;margin-top:0.5rem;background:#0f1419;color:#e8e8e8;border-radius:6px;border:1px solid #333;"></select>
		</div>

		<div style="min-width:220px;">
			<label for="league">League</label>
			<input id="league" placeholder="League (e.g., EPL)" style="width:100%;padding:0.5rem;margin-top:0.5rem;background:#0f1419;color:#e8e8e8;border-radius:6px;border:1px solid #333;" />
		</div>

		<div style="min-width:260px;">
			<label>Date range</label>
			<div style="display:flex;gap:0.5rem;margin-top:0.5rem;">
				<input id="date_from" type="date" style="flex:1;padding:0.45rem;border-radius:6px;border:1px solid #333;background:#0f1419;color:#e8e8e8;" />
				<input id="date_to" type="date" style="flex:1;padding:0.45rem;border-radius:6px;border:1px solid #333;background:#0f1419;color:#e8e8e8;" />
			</div>
		</div>
	</div>

	<div class="controls" style="display:flex;gap:1rem;flex-wrap:wrap;margin-top:1rem;">
		<div style="min-width:200px;">
			<label for="min_goals">Min total goals</label>
			<input id="min_goals" type="number" min="0" placeholder="0" style="width:100%;padding:0.45rem;border-radius:6px;border:1px solid #333;background:#0f1419;color:#e8e8e8;margin-top:0.5rem;" />
		</div>

		<div style="min-width:200px;">
			<label for="max_goals">Max total goals</label>
			<input id="max_goals" type="number" min="0" placeholder="10" style="width:100%;padding:0.45rem;border-radius:6px;border:1px solid #333;background:#0f1419;color:#e8e8e8;margin-top:0.5rem;" />
		</div>

		<div style="min-width:200px;">
			<label for="min_xg">Min combined xG</label>
			<input id="min_xg" type="number" step="0.1" min="0" placeholder="0" style="width:100%;padding:0.45rem;border-radius:6px;border:1px solid #333;background:#0f1419;color:#e8e8e8;margin-top:0.5rem;" />
		</div>

		<div style="min-width:200px;">
			<label for="is_result">Result</label>
			<select id="is_result" style="width:100%;padding:0.45rem;border-radius:6px;border:1px solid #333;background:#0f1419;color:#e8e8e8;margin-top:0.5rem;">
				<option value="">Any</option>
				<option value="1">Final</option>
				<option value="0">Not final</option>
			</select>
		</div>
	</div>

	<h3 style="margin-top:1.25rem;color:#2ecc71;">Team selection (head-to-head)</h3>
	<div style="display:flex;gap:0.75rem;align-items:end;flex-wrap:wrap;">
		<div style="flex:1;min-width:220px;">
			<label for="team_home">Home team</label>
			<select id="team_home" style="width:100%;padding:0.5rem;margin-top:0.5rem;background:#0f1419;color:#e8e8e8;border-radius:6px;border:1px solid #333;"></select>
		</div>

		<div style="flex:1;min-width:220px;">
			<label for="team_away">Away team</label>
			<select id="team_away" style="width:100%;padding:0.5rem;margin-top:0.5rem;background:#0f1419;color:#e8e8e8;border-radius:6px;border:1px solid #333;"></select>
		</div>

		<div style="min-width:140px;">
			<button id="btn_team_headtohead" style="padding:0.6rem 1rem;border-radius:8px;border:none;background:#2ecc71;color:#0f1419;font-weight:700;cursor:pointer;margin-top:0.2rem;">Show H2H</button>
		</div>

		<div style="min-width:140px;">
			<button id="btn_search" style="padding:0.6rem 1rem;border-radius:8px;border:none;background:#27ae60;color:#0f1419;font-weight:700;cursor:pointer;margin-top:0.2rem;">Search</button>
		</div>

		<div style="min-width:140px;">
			<button id="btn_reset" style="padding:0.6rem 1rem;border-radius:8px;border:1px solid #333;background:transparent;color:#e8e8e8;font-weight:600;cursor:pointer;margin-top:0.2rem;">Reset</button>
		</div>
	</div>

  <div id="results" style="margin-top:1.5rem;"></div>

</section>

<script src="{{ url_for('static', filename='matches.js') }}"></script>

{% endblock %}